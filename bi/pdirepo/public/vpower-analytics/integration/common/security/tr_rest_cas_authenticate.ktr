<transformation>
  <info>
    <name>tr_rest_cas_authenticate</name>
    <description>Authenticate&#x27;s the &#x22;Admin User&#x22; against CAS</description>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;public&#x2f;vpower-analytics&#x2f;integration&#x2f;common&#x2f;security</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
      <slaveserver>
        <name>ID-Server</name>
        <hostname>localhost</hostname>
        <port>8181</port>
        <webAppName/>
        <username>cluster</username>
<password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password>        <proxy_hostname/>
        <proxy_port/>
        <non_proxy_hosts/>
        <master>N</master>
        <sslMode>N</sslMode>      </slaveserver>
      <slaveserver>
        <name>Jos 10.0.0.169</name>
        <hostname>10.0.0.169</hostname>
        <port>8081</port>
        <webAppName/>
        <username>cluster</username>
<password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password>        <proxy_hostname/>
        <proxy_port/>
        <non_proxy_hosts/>
        <master>N</master>
        <sslMode>N</sslMode>      </slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>mkeswa</created_user>
    <created_date>2015&#x2f;04&#x2f;20 17&#x3a;20&#x3a;07.800</created_date>
    <modified_user>mkeswa</modified_user>
    <modified_date>2015&#x2f;06&#x2f;28 09&#x3a;30&#x3a;53.470</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA&#x3d;</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>AgileBI</name>
    <server>localhost</server>
    <type>MONETDB</type>
    <access>Native</access>
    <database>pentaho-instaview</database>
    <port>50000</port>
    <username>monetdb</username>
    <password>Encrypted 2be98afc86aa7f2e4cb14a17edb86abd8</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <read_only>true</read_only>
    <attributes>
      <attribute><code>EXTRA_OPTION_INFOBRIGHT.characterEncoding</code><attribute>UTF-8</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>50000</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>bidatawarehouse</name>
    <server>&#x24;&#x7b;VE_BIWAREHOUSE_DB_HOSTNAME&#x7d;</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;VE_BIWAREHOUSE_DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;VE_BIWAREHOUSE_DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;VE_BIWAREHOUSE_DB_LOGIN_USER&#x7d;</username>
    <password>&#x24;&#x7b;VE_BIWAREHOUSE_DB_LOGIN_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;VE_BIWAREHOUSE_DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PREFERRED_SCHEMA_NAME</code><attribute>&#x24;&#x7b;VE_BIWAREHOUSE_DB_SCHEMA&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>bidatawarehouse_audit</name>
    <server>&#x24;&#x7b;VE_BIWAREHOUSE_DB_HOSTNAME&#x7d;</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;VE_BIWAREHOUSE_LOGGING_DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;VE_BIWAREHOUSE_DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;VE_BIWAREHOUSE_DB_LOGIN_USER&#x7d;</username>
    <password>&#x24;&#x7b;VE_BIWAREHOUSE_DB_LOGIN_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;VE_BIWAREHOUSE_DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PREFERRED_SCHEMA_NAME</code><attribute>&#x24;&#x7b;VE_BIWAREHOUSE_DB_SCHEMA&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>optdatamart</name>
    <server>analytics.myvpowerint.com</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>optdatamart</database>
    <port>5433</port>
    <username>pentahoadmin</username>
    <password>Encrypted 2be98afb80fc98685a316af74d39ba19b</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>5433</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>Sampledata</name>
    <server/>
    <type>H2</type>
    <access>JNDI</access>
    <database>SampleData</database>
    <port>1521</port>
    <username/>
    <password>Encrypted </password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1521</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>sls_dma</name>
    <server>&#x24;&#x7b;VAR_DB_DMA_HOST&#x7d;</server>
    <type>MONETDB</type>
    <access>Native</access>
    <database>&#x24;&#x7b;VAR_DB_DMA_NAME&#x7d;</database>
    <port>&#x24;&#x7b;VAR_DB_DMA_PORT&#x7d;</port>
    <username>&#x24;&#x7b;VAR_DB_DMA_USER&#x7d;</username>
    <password>&#x24;&#x7b;VAR_DB_DMA_PW&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;VAR_DB_DMA_PORT&#x7d;</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>VPower_EDW_Dev</name>
    <server>pentaho.myvpowerint.com</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>biwarehouse</database>
    <port>5433</port>
    <username>pentahoadmin</username>
    <password>Encrypted 2be98afb80fc98685a316af74d39ba19b</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>5433</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>vpower_edw_local</name>
    <server>172.16.250.130</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>vpower_edw</database>
    <port>5432</port>
    <username>conxadmin</username>
    <password>Encrypted 2be98afc86aa7f287a417b671da9fa6d4</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>5432</attribute></attribute>
      <attribute><code>PREFERRED_SCHEMA_NAME</code><attribute>prototype</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>wcm_dwh</name>
    <server>localhost</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>wcm_dwh</database>
    <port>3306</port>
    <username>wcm_dwh</username>
    <password>Encrypted 2be98afc86aa7f2e4cb0ead7de196b8d2</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.characterEncoding</code><attribute>UTF8</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SQL_CONNECT</code><attribute>set sql_mode &#x3a;&#x3d; &#x27;&#x27;</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Generate Hardcoded auth creds</from>
      <to>Join Rows &#x28;cartesian product&#x29;</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select ticketId</from>
      <to>sessionId Output</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Get BASE Url &#x26; Creds</from>
      <to>Join Rows &#x28;cartesian product&#x29;</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Join Rows &#x28;cartesian product&#x29;</from>
      <to>User Defined Java Expression 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>User Defined Java Expression 2</from>
      <to>Get LT&#x2f;Ticket</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get LT&#x2f;Ticket</from>
      <to>Select ticketId</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Generate Hardcoded auth creds</name>
    <type>RowGenerator</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
    </fields>
    <limit>1</limit>
    <never_ending>N</never_ending>
    <interval_in_ms>5000</interval_in_ms>
    <row_time_field>now</row_time_field>
    <last_time_field>FiveSecondsAgo</last_time_field>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>216</xloc>
      <yloc>207</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Get BASE Url &#x26; Creds</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>baseUrl</name>
        <variable>&#x24;&#x7b;VE_APP_CAS_BASE_URL&#x7d;</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>username</name>
        <variable>&#x24;&#x7b;VE_PDI_DS_VPOWER_LOGIN_USERNAME&#x7d;</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>password</name>
        <variable>&#x24;&#x7b;VE_PDI_DS_VPOWER_LOGIN_PASSWORD&#x7d;</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>210</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Get LT&#x2f;Ticket</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var TAG &#x3d; &#x27;CASCLIENT&#x27;&#x3b;&#xa;var CAS_LOGIN_URL_PART &#x3d; &#x27;login&#x27;&#x3b;&#xa;var CAS_LOGOUT_URL_PART &#x3d; &#x27;logout&#x27;&#x3b;&#xa;var CAS_SERVICE_VALIDATE_URL_PART &#x3d; &#x27;serviceValidate&#x27;&#x3b;&#xa;var CAS_TICKET_BEGIN &#x3d; &#x27;ticket&#x3d;&#x27;&#x3b;&#xa;var CAS_LT_BEGIN &#x3d; &#x22;name&#x3d;&#x5c;&#x22;lt&#x5c;&#x22; value&#x3d;&#x5c;&#x22;&#x22;&#x3b;&#xa;var CAS_USER_BEGIN &#x3d; &#x27;&#x3c;cas&#x3a;user&#x3e;&#x27;&#x3b;&#xa;var CAS_USER_END &#x3d; &#x27;&#x3c;&#x2f;cas&#x3a;user&#x3e;&#x27;&#x3b;&#xa;&#xa;&#x2f;&#x2a;&#x2a;&#xa; &#x2a; Helper function to do an api call&#xa; &#x2a;&#xa; &#x2a; &#x40;param string url&#xa; &#x2a; &#x40;param object data Data to send&#xa; &#x2a; &#x40;param string method POST or GET&#xa; &#x2a; &#x40;return XMLHttpRequest&#xa; &#x2a;&#x2f;&#xa;function _apiRequest&#x28;url, data, method&#x29; &#x7b;&#xa;	&#x2f;&#x2f; Predefined static post data&#xa;	var requestData &#x3d; &#x7b;&#xa;	&#x7d;&#x3b;&#xa;	&#x2f;&#x2f; Merge predefined jsonData with user data&#xa;	if &#x28;data&#x29; &#x7b;&#xa;		for &#x28;var i in data&#x29; &#x7b;&#xa;	   			requestData&#x5b;i&#x5d; &#x3d; data&#x5b;i&#x5d;&#x3b;&#xa;		&#x7d;&#xa;	&#x7d;&#xa;	var httpMethod &#x3d; null&#x3b;&#xa;	if &#x28;method &#x3d;&#x3d; &#x27;GET&#x27;&#x29; &#x7b;&#xa;		var dataArray &#x3d; &#x5b;&#x5d;&#x3b;&#xa;		for &#x28;var i in requestData&#x29; &#x7b;&#xa;			dataArray.push&#x28;i &#x2b; &#x27;&#x3d;&#x27; &#x2b; encodeURIComponent&#x28;requestData&#x5b;i&#x5d;&#x29;&#x29;&#x3b;&#xa;		&#x7d;&#xa;		url &#x2b;&#x3d; &#x27;&#x3f;&#x27; &#x2b; dataArray.join&#x28;&#x27;&#x26;&#x27;&#x29;&#x3b;&#xa;&#xa;		httpMethod &#x3d; new Packages.org.apache.commons.httpclient.methods.GetMethod&#x28;url&#x29;&#x3b;&#xa;		&#x2f;&#x2f;httpMethod.addRequestHeader&#x28;&#x27;Content-Type&#x27;, &#x27;application&#x2f;json&#x27;&#x29;&#x3b;&#xa;	&#x7d;&#xa;	else &#x7b;&#xa;		httpMethod &#x3d; new Packages.org.apache.commons.httpclient.methods.PostMethod&#x28;url&#x29;&#x3b;&#xa;		httpMethod.addRequestHeader&#x28;&#x27;Content-Type&#x27;, &#x27;application&#x2f;json&#x27;&#x29;&#x3b;&#xa;		httpMethod.setRequestBody&#x28;JSON.stringify&#x28;requestData&#x29;&#x29;&#x3b;&#xa;	&#x7d;&#xa;&#xa;	var httpClient &#x3d; new Packages.org.apache.commons.httpclient.HttpClient&#x28;&#x29;&#x3b;&#xa;	httpClient.setConnectionTimeout&#x28;0&#x29;&#x3b;&#xa;	httpClient.setTimeout&#x28;0&#x29;&#x3b;&#xa;	http_status_code &#x3d; httpClient.executeMethod&#x28;httpMethod&#x29;&#x3b;&#xa;&#xa;	return httpMethod&#x3b;&#xa;&#x7d;&#x3b;&#xa;&#xa;function getLTFromLoginForm&#x28;&#x29; &#x7b;&#xa;	var statusMethod &#x3d; _apiRequest&#x28;loginUrl,&#x7b;&#x7d;,&#x27;GET&#x27;&#x29;&#x3b;&#xa;    var stringBuilder &#x3d; new java.lang.StringBuilder&#x28;&#x29;&#x3b;&#xa;    var isr &#x3d; new Packages.java.io.InputStreamReader&#x28;statusMethod.getResponseBodyAsStream&#x28;&#x29;&#x29;&#x3b;&#xa;    var lt_ &#x3d; extractLt&#x28;isr&#x29;&#x3b;&#xa;    &#x2f;&#x2f;var rd &#x3d; new java.io.BufferedReader&#x28;isr&#x29;&#x3b;&#xa;    &#x2f;&#x2f;while &#x28;&#x28;line &#x3d; rd.readLine&#x28;&#x29;&#x29; &#x21;&#x3d; null&#x29; &#x7b;&#xa;    &#x2f;&#x2f; stringBuilder.append&#x28;line&#x29;&#x3b;&#xa;    &#x2f;&#x2f;&#x7d;&#xa;	&#x2f;&#x2f;var json &#x3d; stringBuilder.toString&#x28;&#x29;&#x3b;&#xa;&#xa;	return lt_&#x3b;&#xa;&#x7d;&#xa;&#xa;function login &#x28;&#x29; &#xa;&#x7b;&#xa;	var serviceTicket &#x3d; null&#x3b;&#xa;	&#x2f;&#x2f; The login method simulates the posting of the CAS login form. The login form contains a unique identifier&#xa;	&#x2f;&#x2f; or &#x22;LT&#x22; that is only valid for 90s. The method getLTFromLoginForm requests the login form from the cAS&#xa;	&#x2f;&#x2f; and extracts the LT that we need.  Note that the LT is _service specific_ &#x3a; We need to use an identical&#xa;	&#x2f;&#x2f; serviceUrl when retrieving and posting the login form.&#xa;	lt &#x3d; getLTFromLoginForm &#x28;&#x29;&#x3b;&#xa;    writeToLog&#x28;TAG&#x2b;&#x22;LT &#x22; &#x2b; lt&#x29;&#x3b;&#xa;	if &#x28;lt &#x3d;&#x3d; null&#x29;&#xa;	&#x7b;&#xa;		writeToLog&#x28;TAG&#x2b;&#x22;Cannot retrieve LT from CAS. Aborting authentication for &#x27;&#x22; &#x2b; username &#x2b; &#x22;&#x27;&#x22;&#x29;&#x3b;&#xa;		&#x2f;&#x2f;throw new CasProtocolException &#x28;&#x22;Cannot retrieve LT from CAS. Aborting authentication for &#x27;&#x22; &#x2b; username &#x2b; &#x22;&#x27;&#x22;&#x29;&#x3b;&#xa;	&#x7d;&#xa;	else&#xa;	&#x7b;&#xa;		&#x2f;&#x2f; Yes, it is necessary to include the serviceUrl as part of the query string. The URL must be&#xa;		&#x2f;&#x2f; identical to that used to get the LT.&#xa;		writeToLog&#x28;TAG&#x2b;&#x22;POST &#x22; &#x2b; loginUrl&#x29;&#x3b;&#xa;		var httpPost &#x3d; new Packages.org.apache.commons.httpclient.methods.PostMethod&#x28;loginUrl&#x29;&#x3b;&#xa;		try&#xa;		&#x7b;&#xa;            var params &#x3d; &#x5b;&#x5d;&#x3b;&#xa;        	params.push&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;_eventId&#x22;, &#x22;submit&#x22;&#x29;&#x29;&#x3b;&#xa;			params.push&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;username&#x22;, &#x22;keswa&#x40;viridityenergy.com&#x22;&#x29;&#x29;&#x3b;&#xa;			params.push&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;gateway&#x22;, &#x22;true&#x22;&#x29;&#x29;&#x3b;&#xa;			params.push&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;password&#x22;, &#x22;password&#x22;&#x29;&#x29;&#x3b;&#xa;			params.push&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;lt&#x22;, lt&#x29;&#x29;&#x3b;&#xa;			&#x2f;&#x2f;params.add&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;_eventId&#x22;, &#x22;submit&#x22;&#x29;&#x29;&#x3b;	&#xa;			&#x2f;&#x2f;params.add&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;username&#x22;, username&#x29;&#x29;&#x3b;&#xa;            &#x2f;&#x2f;params.add&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;password&#x22;, password&#x29;&#x29;&#x3b;&#xa;            &#x2f;&#x2f;params.add&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;gateway&#x22;, &#x22;true&#x22;&#x29;&#x29;&#x3b;&#xa;            &#x2f;&#x2f;params.add&#x28;new org.apache.commons.httpclient.NameValuePair&#x28;&#x22;lt&#x22;, lt&#x29;&#x29;&#x3b;&#xa;            httpPost.addParameters&#x28;params&#x29;&#x3b;&#xa;			var httpClient &#x3d; new Packages.org.apache.commons.httpclient.HttpClient&#x28;&#x29;&#x3b;&#xa;			httpClient.setConnectionTimeout&#x28;0&#x29;&#x3b;&#xa;			httpClient.setTimeout&#x28;0&#x29;&#x3b;&#xa;			http_status_code &#x3d; httpClient.executeMethod&#x28;httpPost&#x29;&#x3b;&#xa;			writeToLog&#x28;TAG&#x2b;&#x22;POST RESPONSE STATUS&#x3d;&#x22; &#x2b; http_status_code&#x29;&#x3b;&#xa;&#xa;    		var stringBuilder_ &#x3d; new java.lang.StringBuilder&#x28;&#x29;&#x3b;&#xa;    		var isr_ &#x3d; new Packages.java.io.InputStreamReader&#x28;httpPost.getResponseBodyAsStream&#x28;&#x29;&#x29;&#x3b;&#xa;    		var rd_ &#x3d; new java.io.BufferedReader&#x28;isr_&#x29;&#x3b;&#xa;    		while &#x28;&#x28;line &#x3d; rd_.readLine&#x28;&#x29;&#x29; &#x21;&#x3d; null&#x29; &#x7b;&#xa;     			stringBuilder_.append&#x28;line&#x29;&#x3b;&#xa;    		&#x7d;&#xa;    		afterLoginResp &#x3d; stringBuilder_.toString&#x28;&#x29;&#x3b;&#xa;&#xa;          	var hdrs_ &#x3d; httpPost.getResponseHeaders&#x28;&#x29;&#x3b;&#xa;			for &#x28;var i &#x3d; hdrs_.length&#x3b; i--&#x3b;&#x29; &#x7b;&#xa;				writeToLog&#x28;TAG&#x2b;&#x22;HEADER&#x3d;&#x22; &#x2b; hdrs_&#x5b;i&#x5d;.getValue&#x28;&#x29;&#x29;&#x3b;&#xa;			&#x7d;&#xa;&#xa;	&#x2f;&#x2f;var json &#x3d; stringBuilder.toString&#x28;&#x29;&#x3b;&#xa;&#xa;			&#x2f;&#x2f;TODO It would seem that when the client is already authenticated, the CAS server &#xa;			&#x2f;&#x2f; redirects transparently to the service URL&#x21;&#xa;			&#x2f;&#x2f; Success if CAS replies with a 302 HTTP status code and a Location header&#xa;			&#x2f;&#x2f; We assume that if a valid ticket is provided in the Location header, that it is also a 302 HTTP STATUS&#xa;			var header &#x3d; httpPost.getResponseHeader&#x28;&#x22;Location&#x22;&#x29;&#x3b;&#xa;            writeToLog&#x28;TAG&#x2b;&#x22;POST LOCATION HEADER&#x3d;&#x22; &#x2b; header&#x29;&#x3b;&#xa;			if &#x28;header &#x21;&#x3d; null&#x29; &#xa;				serviceTicket &#x3d; extractServiceTicket &#x28;header.getValue&#x28;&#x29;&#x29;&#x3b;&#xa;&#xa;&#xa;			if &#x28;serviceTicket &#x3d;&#x3d; null&#x29;&#xa;			&#x7b;&#xa;				writeToLog&#x28;TAG&#x2b;&#x22;Authentication to service &#x27;&#x22; &#x2b; serviceUrl &#x2b; &#x22;&#x27; unsuccessul for username &#x27;&#x22; &#x2b; username &#x2b; &#x22;&#x27;.&#x22;&#x29;&#x3b;&#xa;				&#x2f;&#x2f;throw new CasAuthenticationException &#x28;&#x22;Authentication to service &#x27;&#x22; &#x2b; serviceUrl &#x2b; &#x22;&#x27; unsuccessul for username &#x27;&#x22; &#x2b; username &#x2b; &#x22;&#x27;.&#x22;&#x29;&#x3b;&#xa;			&#x7d;&#xa;			else&#xa;				writeToLog&#x28;TAG&#x2b;&#x22;Authentication to service &#x27;&#x22; &#x2b; serviceUrl &#x2b; &#x22;&#x27; successul for username &#x27;&#x22; &#x2b; username &#x2b; &#x22;&#x27;.&#x22;&#x29;&#x3b;&#xa;		&#x7d; &#xa;		catch &#x28;e&#x29; &#xa;		&#x7b;&#xa;			writeToLog&#x28;TAG&#x2b;&#x22;IOException trying to login &#x3a; &#x22; &#x2b; e.getMessage&#x28;&#x29;&#x29;&#x3b;&#xa;			&#x2f;&#x2f;throw new CasProtocolException &#x28;&#x22;IOException trying to login &#x3a; &#x22; &#x2b; e.getMessage&#x28;&#x29;&#x29;&#x3b;&#xa;		&#x7d; &#xa;		return serviceTicket&#x3b;&#xa;	&#x7d;&#xa;&#x7d;&#xa;&#xa;function extractServiceTicket &#x28;data&#x29;&#xa;&#x7b;&#xa;	var serviceTicket &#x3d; null&#x3b;&#xa;	var start &#x3d; data.indexOf&#x28;CAS_TICKET_BEGIN&#x29;&#x3b;&#xa;	if &#x28;start &#x3e; 0&#x29;&#xa;	&#x7b;&#xa;		start &#x2b;&#x3d; CAS_TICKET_BEGIN.length &#x28;&#x29;&#x3b;&#xa;		serviceTicket &#x3d; data.substring &#x28;start&#x29;&#x3b;&#xa;	&#x7d;&#xa;	return serviceTicket&#x3b;&#xa;&#x7d;&#xa;&#xa;function extractLt &#x28;dataStream&#x29;&#xa;&#x7b;&#xa;  var reader &#x3d; java.io.BufferedReader&#x28;dataStream&#x29;&#x3b;&#xa;  var token &#x3d; null&#x3b;&#xa;  var stringBuilder &#x3d; new java.lang.StringBuilder&#x28;&#x29;&#x3b;&#xa;  try &#xa;  &#x7b;&#xa;    while &#x28;token &#x3d;&#x3d; null &#x26;&#x26; &#x28;line &#x3d; reader.readLine&#x28;&#x29;&#x29; &#x21;&#x3d; null&#x29;&#xa;    &#x7b;&#xa;      var start &#x3d; line.indexOf &#x28;CAS_LT_BEGIN&#x29;&#x3b;&#xa;      if &#x28;start &#x3e;&#x3d; 0&#x29;&#xa;      &#x7b;&#xa;        start &#x2b;&#x3d; CAS_LT_BEGIN.length&#x3b;&#xa;        var end &#x3d; line.indexOf&#x28;&#x22;&#x5c;&#x22;&#x22;, start&#x29;&#x3b;&#xa;        token &#x3d; line.substring &#x28;start, end&#x29;&#x3b;&#xa;      &#x7d;&#xa;	  stringBuilder.append&#x28;line&#x29;&#x3b;&#xa;    &#x7d;&#xa;  &#x7d; &#xa;  catch &#x28;e&#x29; &#xa;  &#x7b;&#xa;    writeToLog&#x28;TAG&#x2b;&#x27;&#x3a; &#x27;&#x2b;e&#x29;&#x3b;&#xa;  &#x7d;&#xa;  return token&#x3b;&#x2f;&#x2f;token&#x3b;&#x2f;&#x2f;token&#x3b;&#xa;&#x7d;&#xa;&#xa;&#xa;function _downloadReports&#x28;location&#x29; &#x7b;&#xa;	var rows &#x3d; &#x5b;&#x5d;&#x3b;&#xa;	while &#x28;location&#x29; &#x7b;&#xa;		&#x2f;&#x2f; Request link list&#xa;		var method &#x3d; _apiRequest&#x28;location, &#x7b;&#x7d;, &#x27;GET&#x27;&#x29;&#x3b;&#xa;		var json &#x3d; JSON.parse&#x28;method.getResponseBodyAsString&#x28;&#x29;&#x29;&#x3b;&#xa;		&#x2f;&#x2f; Check if we got an valid link list&#xa;		if &#x28;&#x21;json &#x7c;&#x7c; &#x21;json.total&#x29; &#x7b;&#xa;			return rows&#x3b;&#xa;		&#x7d;&#xa;		rows &#x3d; rows.concat&#x28;json.rows&#x29;&#x3b;&#xa;		location &#x3d; null&#x3b;&#xa;		for &#x28;var i &#x3d; json.links.length&#x3b; i--&#x3b;&#x29; &#x7b;&#xa;			if &#x28;json.links&#x5b;i&#x5d;.rel &#x3d;&#x3d; &#x27;next&#x27;&#x29; &#x7b;&#xa;				location &#x3d; json.links&#x5b;i&#x5d;.href&#x3b;&#xa;				break&#x3b;&#xa;			&#x7d;&#xa;		&#x7d;&#xa;	&#x7d;&#xa;	return rows&#x3b;&#xa;&#x7d;&#x3b;&#xa;&#xa;function _statusRequest&#x28;location, limit&#x29; &#x7b;&#xa;	&#x2f;&#x2f; Maximum 50 tries to get complete status response&#xa;	for &#x28;var i &#x3d; 50&#x3b; i--&#x3b;&#x29; &#x7b;&#xa;		&#x2f;&#x2f; Request report status&#xa;		var statusMethod &#x3d; _apiRequest&#x28;location, &#x7b;&#x27;limit&#x27;&#x3a; limit &#x7c;&#x7c; 100&#x7d;, &#x27;GET&#x27;&#x29;&#x3b;&#xa;		return statusMethod&#x3b;&#xa;		var json &#x3d; JSON.parse&#x28;statusMethod.getResponseBodyAsString&#x28;&#x29;&#x29;&#x3b;&#xa;		&#x2f;&#x2f; Check if the response is correct and the report is completed&#xa;		if &#x28;&#x21;&#x21;json &#x26;&#x26; &#x28;json.completed &#x7c;&#x7c; json.error&#x29;&#x29; &#x7b;&#xa;			&#x2f;&#x2f; Return success xhr&#xa;			return statusMethod&#x3b;&#xa;		&#x7d;&#xa;	&#x7d;&#xa;	return null&#x3b;&#xa;&#x7d;&#x3b;&#xa;&#x2f;&#x2f;var header &#x3d; &#x7b;&#x7d;&#x3b;&#xa;&#x2f;&#x2f;var http_status_code &#x3d; &#x7b;&#x7d;&#x3b;&#xa;&#x2f;&#x2f;var lt &#x3d; &#x22;LT-169-7H4JRcfNQ5kx1b1pXZWaLpWblxSwAy-cas01.sso.myvpowerint.com&#x22;&#x3b;&#xa;&#x2f;&#x2f;var requestBody &#x3d; JSON.parse&#x28;&#x27;&#x7b;&#x22;username&#x22;&#x3a;&#x22;&#x27;&#x2b;username&#x2b;&#x27;&#x22;,&#x22;password&#x22;&#x3a;&#x22;&#x27;&#x2b;password&#x2b;&#x27;&#x22;,&#x22;lt&#x22;&#x3a;&#x22;&#x27;&#x2b;lt&#x2b;&#x27;&#x22;&#x7d;&#x27;&#x29;&#x3b;&#xa;&#xa;&#x2f;&#x2f;var httpMethod &#x3d; _apiRequest&#x28;baseUrl&#x2b;&#x27;&#x2f;cas&#x2f;v1&#x2f;tickets&#x27;,requestBody,method&#x29;&#x3b;&#xa;&#x2f;&#x2f;var respBody &#x3d; httpMethod.getResponseBodyAsString&#x28;&#x29;&#x3b;&#xa;&#x2f;&#x2f;writeToLog&#x28;&#x27;Response&#x3a; &#x27;&#x2b;respBody&#x29;&#x3b;&#xa;&#xa;&#x2f;&#x2f;    var cookies &#x3d; httpClient.getState&#x28;&#x29;.getCookies&#x28;&#x29;&#x3b;&#xa;&#x2f;&#x2f;	var ticketid &#x3d; &#x27;N&#x2f;A&#x27;&#x3b; &#xa;&#x2f;&#x2f;	header &#x3d; httpMethod.getResponseHeader&#x28;&#x27;Location&#x27;&#x29;.getValue&#x28;&#x29;&#x3b;&#xa;&#x2f;&#x2f;    var tokens &#x3d; header.split&#x28;&#x27;&#x2f;&#x27;&#x29;&#x3b;&#xa;&#x2f;&#x2f;	return tokens&#x5b;tokens.length-1&#x5d;&#x3b;&#x2f;&#x2f;&#x2f;sessions&#x2f;bd7c8291-fa00-4795-987b-f3e0d17b00b9&#xa;var lt &#x3d; &#x7b;&#x7d;&#x3b;&#xa;var afterLoginResp &#x3d; &#x7b;&#x7d;&#x3b;&#xa;var loginUrl &#x3d; baseUrl&#x2b;&#x27;&#x2f;cas&#x2f;login&#x27;&#x2b; &#x27;&#x3f;service&#x3d;&#x27; &#x2b; serviceUrl&#x3b;&#xa;var ticketId &#x3d; login&#x28;&#x29;&#x3b;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>ticketId</name>
        <rename>ticketId</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>header</name>
        <rename>header</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>http_status_code</name>
        <rename>http_status_code</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>lt</name>
        <rename>lt</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>loginUrl</name>
        <rename>loginUrl</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>afterLoginResp</name>
        <rename>afterLoginResp</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>709</xloc>
      <yloc>60</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Join Rows &#x28;cartesian product&#x29;</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <cache_size>500</cache_size>
      <main/>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue/>
 <function>&#x3d;</function>
 <rightvalue/>
 </condition>
    </compare>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>458</xloc>
      <yloc>207</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Mapping input specification</name>
    <type>MappingInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
        <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>210</xloc>
      <yloc>122</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>Select ticketId</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>      <field>        <name>ticketId</name>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>974</xloc>
      <yloc>205</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>User Defined Java Expression 2</name>
    <type>Janino</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
       <formula><field_name>serviceUrl</field_name>
<formula_string>&#x22;https&#x3a;&#x2f;&#x2f;analytics.com&#x22;</formula_string>
<value_type>String</value_type>
<value_length>-1</value_length>
<value_precision>-1</value_precision>
<replace_field/>
</formula>
       <formula><field_name>_eventId</field_name>
<formula_string>&#x22;submit&#x22;</formula_string>
<value_type>String</value_type>
<value_length>-1</value_length>
<value_precision>-1</value_precision>
<replace_field/>
</formula>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>600</xloc>
      <yloc>130</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>sessionId Output</name>
    <type>MappingOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1188</xloc>
      <yloc>205</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
